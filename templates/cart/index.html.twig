{% extends 'base.html.twig' %}

{% block title %} Panier | RICH  {% endblock %}

{% block content %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">

    <h1>Voici votre panier âœ…</h1>

    <ul>
        {% if items | length > 0 %}

            <table class="table is-fullwidth">
                <thead>
                    <tr>
                        <th> Pack </th>
                        <th> destination </th>
                        <th> description </th>
                        <th> Quantity </th>
                        <th> Prix </th>
                    </tr>
                </thead>
                <tbody>
                {% for item in items %}
                <tr>
                    <td> {{ item.pack.name }}</td>
                    <td> {{ item.pack.destination.city }}</td>
                    <td> {{ item.pack.description}}</td>
                    <td> {{ item.quantity}}</td>
                    <td> {{ item.pack.getPrice() * item.quantity}}</td>
                    <td>
                        <a href="{{ path('cart_remove', {'id':item.pack.id})}}">
                            <button class="button is-danger is-small"> Supprimer </button>
                        </a>
                    </td>
                </tr>
                {% endfor %}

                <td> total : {{ total }} </td>
                </tbody>
            </table>


            <form action="{{ path('checkout') }}" method="POST">
                <button type="submit" class="button is-medium is-fullwidth is-success"> Payer </button>
            </form>

        {% else %}
            <p> Votre panier est vide. </p>
        {% endif %}
    </ul>
</div>
{% endblock %}
